<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projectile Motion - Interactive Workbook</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            text-align: center;
        }

        h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1em;
        }

        nav {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .nav-btn {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-btn:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-btn.active {
            background: #764ba2;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .content-section {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: #667eea;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        h3 {
            color: #764ba2;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        h4 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .theory-content {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .equation-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 2px solid #e9ecef;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
        }

        .key-point {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .viz-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .controls {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .control-group {
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-group label {
            min-width: 150px;
            font-weight: 500;
        }

        .control-group input[type="range"] {
            flex: 1;
            max-width: 300px;
        }

        .control-group input[type="number"] {
            width: 80px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .control-group .value-display {
            min-width: 100px;
            font-family: monospace;
            color: #667eea;
            font-weight: bold;
        }

        svg {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: #fafafa;
        }

        .question-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }

        .input-group {
            margin: 15px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }

        input[type="text"], input[type="number"], textarea {
            width: 100%;
            max-width: 400px;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 5px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #764ba2;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .hint {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            display: none;
        }

        .hint.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; max-height: 0; }
            to { opacity: 1; max-height: 500px; }
        }

        .solution {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            display: none;
        }

        .solution.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        .feedback {
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
            display: block;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
            display: block;
        }

        .viz-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .viz-tab {
            padding: 10px 20px;
            background: #e9ecef;
            border: none;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .viz-tab.active {
            background: #667eea;
            color: white;
        }

        .viz-tab:hover {
            background: #764ba2;
            color: white;
        }

        .viz-content {
            display: none;
        }

        .viz-content.active {
            display: block;
        }

        .formula {
            font-style: italic;
            color: #764ba2;
        }

        ul, ol {
            margin-left: 25px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 8px;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }
            
            .nav-btn {
                width: 100%;
            }
            
            .control-group {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        .stats {
            background: #e7f3ff;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            font-family: monospace;
            font-size: 0.9em;
        }

        .stats div {
            margin: 3px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìê Projectile Motion</h1>
            <p class="subtitle">IB Physics Interactive Workbook</p>
        </header>

        <nav>
            <button class="nav-btn active" onclick="showSection('theory')">üìö Theory</button>
            <button class="nav-btn" onclick="showSection('visualizations')">üéØ Visualizations</button>
            <button class="nav-btn" onclick="showSection('questions')">‚úèÔ∏è Practice Questions</button>
        </nav>

        <!-- THEORY SECTION -->
        <div id="theory" class="content-section active">
            <h2>Projectile Motion Theory</h2>
            
            <div class="theory-content">
                <h3>Independence of Horizontal and Vertical Motion</h3>
                <p>When a projectile is launched in a uniform gravitational field, the horizontal and vertical components of motion are <strong>independent</strong>. The horizontal motion does not affect the vertical motion, and vice versa. Projectile motion can be understood as the <strong>superposition</strong> of horizontal and vertical motion.</p>
            </div>

            <div class="key-point">
                <strong>‚ö° Key Principle:</strong> No matter how fast the projectile moves horizontally, it cannot affect the vertical motion. Similarly, vertical motion doesn't influence horizontal motion.
            </div>

            <h3>Equations of Uniformly Accelerated Motion (UAM)</h3>
            
            <div class="theory-content">
                <p>Projectile motion is described using four fundamental equations:</p>
                
                <div class="equation-box">
                    <strong>(1)</strong> v = u + at
                    <p style="font-size: 0.9em; margin-top: 5px; font-family: 'Segoe UI';">Calculates final velocity from initial velocity, acceleration, and time</p>
                </div>

                <div class="equation-box">
                    <strong>(2)</strong> s = (u + v)t / 2
                    <p style="font-size: 0.9em; margin-top: 5px; font-family: 'Segoe UI';">Calculates displacement from initial velocity, final velocity, and time</p>
                </div>

                <div class="equation-box">
                    <strong>(3)</strong> s = ut + ¬Ωat¬≤
                    <p style="font-size: 0.9em; margin-top: 5px; font-family: 'Segoe UI';">Calculates displacement without needing final velocity</p>
                </div>

                <div class="equation-box">
                    <strong>(4)</strong> v¬≤ = u¬≤ + 2as
                    <p style="font-size: 0.9em; margin-top: 5px; font-family: 'Segoe UI';">Relates velocities and acceleration without time</p>
                </div>
            </div>

            <h3>Special Case: Horizontal Motion</h3>
            
            <div class="theory-content">
                <p>Since there are <strong>no horizontal forces</strong> acting on a projectile (excluding air resistance), the horizontal velocity is <strong>constant</strong>. This means <span class="formula">a<sub>horizontal</sub> = 0</span>.</p>
                
                <div class="key-point">
                    <strong>Result:</strong> u<sub>horizontal</sub> = v<sub>horizontal</sub> (initial horizontal velocity equals final horizontal velocity)
                </div>

                <p>The UAM equations simplify dramatically for horizontal motion:</p>
                
                <div class="equation-box">
                    <strong>Horizontal:</strong> s = ut  and  v = u
                </div>

                <div class="equation-box">
                    <strong>Vertical:</strong> All four UAM equations apply with a = g = 9.81 m/s¬≤
                </div>
            </div>

            <h3>Parabolic Trajectory</h3>
            
            <div class="theory-content">
                <p>In the absence of air resistance, the trajectory of a projectile is <strong>parabolic</strong>.</p>
                
                <p>Starting with:</p>
                <div class="equation-box">
                    s<sub>h</sub> = u<sub>h</sub>t<br>
                    s<sub>v</sub> = u<sub>v</sub>t + ¬Ωat¬≤
                </div>

                <p>Solving the first equation for <span class="formula">t</span> and substituting into the second:</p>
                <div class="equation-box">
                    s<sub>v</sub> = (u<sub>v</sub>/u<sub>h</sub>)s<sub>h</sub> + (a/2u<sub>h</sub>¬≤)s<sub>h</sub>¬≤
                </div>

                <p>This has the form <strong>y = ax¬≤ + bx</strong>, which is a parabola.</p>
            </div>
        </div>

        <!-- VISUALIZATIONS SECTION -->
        <div id="visualizations" class="content-section">
            <h2>Interactive Visualizations</h2>
            
            <div class="theory-content">
                <p>Explore projectile motion by adjusting the parameters below. Watch how changing velocity and angle affects the trajectory.</p>
            </div>

            <div class="viz-tabs">
                <button class="viz-tab active" onclick="showViz('angle')">Launch at Angle</button>
                <button class="viz-tab" onclick="showViz('building')">From Building</button>
                <button class="viz-tab" onclick="showViz('wall')">Over a Wall</button>
            </div>

            <!-- ANGLE LAUNCH -->
            <div id="viz-angle" class="viz-content active">
                <h3>Projectile Launched at an Angle</h3>
                <div class="viz-container">
                    <div class="controls">
                        <div class="control-group">
                            <label>Initial Velocity:</label>
                            <input type="range" id="angle-velocity" min="5" max="50" value="25" step="1" oninput="updateAngleViz()">
                            <span class="value-display"><span id="angle-velocity-val">25</span> m/s</span>
                        </div>
                        <div class="control-group">
                            <label>Launch Angle:</label>
                            <input type="range" id="angle-angle" min="0" max="90" value="45" step="1" oninput="updateAngleViz()">
                            <span class="value-display"><span id="angle-angle-val">45</span>¬∞</span>
                        </div>
                        <button class="btn btn-primary" onclick="animateAngle()">üöÄ Launch!</button>
                        <button class="btn btn-secondary" onclick="resetAngle()">Reset</button>
                    </div>
                    <svg id="angle-svg" width="800" height="400" viewBox="0 0 800 400"></svg>
                    <div class="stats" id="angle-stats"></div>
                </div>
            </div>

            <!-- BUILDING LAUNCH -->
            <div id="viz-building" class="viz-content">
                <h3>Projectile from Building (Horizontal Launch)</h3>
                <div class="viz-container">
                    <div class="controls">
                        <div class="control-group">
                            <label>Building Height:</label>
                            <input type="range" id="building-height" min="10" max="100" value="40" step="5" oninput="updateBuildingViz()">
                            <span class="value-display"><span id="building-height-val">40</span> m</span>
                        </div>
                        <div class="control-group">
                            <label>Horizontal Velocity:</label>
                            <input type="range" id="building-velocity" min="5" max="40" value="20" step="1" oninput="updateBuildingViz()">
                            <span class="value-display"><span id="building-velocity-val">20</span> m/s</span>
                        </div>
                        <button class="btn btn-primary" onclick="animateBuilding()">üöÄ Launch!</button>
                        <button class="btn btn-secondary" onclick="resetBuilding()">Reset</button>
                    </div>
                    <svg id="building-svg" width="800" height="400" viewBox="0 0 800 400"></svg>
                    <div class="stats" id="building-stats"></div>
                </div>
            </div>

            <!-- WALL SCENARIO -->
            <div id="viz-wall" class="viz-content">
                <h3>Projectile Over a Wall</h3>
                <div class="viz-container">
                    <div class="controls">
                        <div class="control-group">
                            <label>Initial Velocity:</label>
                            <input type="range" id="wall-velocity" min="10" max="50" value="30" step="1" oninput="updateWallViz()">
                            <span class="value-display"><span id="wall-velocity-val">30</span> m/s</span>
                        </div>
                        <div class="control-group">
                            <label>Launch Angle:</label>
                            <input type="range" id="wall-angle" min="20" max="80" value="50" step="1" oninput="updateWallViz()">
                            <span class="value-display"><span id="wall-angle-val">50</span>¬∞</span>
                        </div>
                        <div class="control-group">
                            <label>Wall Distance:</label>
                            <input type="range" id="wall-distance" min="20" max="80" value="50" step="5" oninput="updateWallViz()">
                            <span class="value-display"><span id="wall-distance-val">50</span> m</span>
                        </div>
                        <div class="control-group">
                            <label>Wall Height:</label>
                            <input type="range" id="wall-height" min="5" max="40" value="15" step="1" oninput="updateWallViz()">
                            <span class="value-display"><span id="wall-height-val">15</span> m</span>
                        </div>
                        <button class="btn btn-primary" onclick="animateWall()">üöÄ Launch!</button>
                        <button class="btn btn-secondary" onclick="resetWall()">Reset</button>
                    </div>
                    <svg id="wall-svg" width="800" height="400" viewBox="0 0 800 400"></svg>
                    <div class="stats" id="wall-stats"></div>
                </div>
            </div>

            <div class="key-point" style="margin-top: 30px;">
                <strong>üí° What to Observe:</strong>
                <ul>
                    <li>At 45¬∞, range is maximized for level ground</li>
                    <li>Horizontal velocity stays constant throughout flight</li>
                    <li>Vertical velocity changes linearly with time (v = u + gt)</li>
                    <li>Time to peak equals time from peak to ground (for level launch)</li>
                    <li>The trajectory is always a parabola</li>
                </ul>
            </div>
        </div>

        <!-- QUESTIONS SECTION -->
        <div id="questions" class="content-section">
            <h2>Practice Questions</h2>

            <!-- QUESTION 7 -->
            <div class="question-card">
                <h3>Question 7: Ball Thrown from Tower</h3>
                <p>The diagram below shows the path of a ball thrown horizontally from the top of a tower of height 24 m which is surrounded by level ground.</p>

                <div style="margin: 20px 0;">
                    <svg width="100%" height="350" viewBox="0 0 600 350">
                        <!-- Tower -->
                        <rect x="50" y="50" width="80" height="240" fill="#999" stroke="#333" stroke-width="2"/>
                        <rect x="50" y="50" width="80" height="30" fill="#666"/>
                        <text x="10" y="170" font-size="18" fill="#333">24m</text>
                        <line x1="20" y1="70" x2="20" y2="280" stroke="#333" stroke-width="2" marker-end="url(#arrowhead-q7)"/>
                        <line x1="20" y1="280" x2="20" y2="70" stroke="#333" stroke-width="2" marker-end="url(#arrowhead-q7)"/>
                        
                        <!-- Ground -->
                        <line x1="0" y1="290" x2="600" y2="290" stroke="#654321" stroke-width="4"/>
                        <pattern id="ground-q7" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
                            <line x1="0" y1="0" x2="20" y2="20" stroke="#654321" stroke-width="1"/>
                        </pattern>
                        <rect x="0" y="290" width="600" height="10" fill="url(#ground-q7)"/>
                        
                        <!-- Parabolic trajectory -->
                        <path d="M 130 65 Q 300 100, 480 285" fill="none" stroke="#667eea" stroke-width="3" stroke-dasharray="5,5"/>
                        
                        <!-- Point P -->
                        <circle cx="125" cy="70" r="6" fill="#e74c3c"/>
                        <text x="135" y="75" font-size="20" font-weight="bold" fill="#e74c3c">P</text>
                        
                        <!-- Landing point marker -->
                        <line x1="480" y1="280" x2="480" y2="300" stroke="#e74c3c" stroke-width="2"/>
                        <text x="465" y="335" font-size="16" fill="#333">27m</text>
                        <line x1="130" y1="310" x2="130" y2="320" stroke="#333" stroke-width="1"/>
                        <line x1="480" y1="310" x2="480" y2="320" stroke="#333" stroke-width="1"/>
                        <line x1="130" y1="315" x2="480" y2="315" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2-q7)"/>
                        <line x1="480" y1="315" x2="130" y2="315" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2-q7)"/>
                        
                        <!-- Arrow definitions -->
                        <defs>
                            <marker id="arrowhead-q7" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
                                <polygon points="0 0, 10 5, 0 10" fill="#333"/>
                            </marker>
                            <marker id="arrowhead2-q7" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
                                <polygon points="0 0, 10 5, 0 10" fill="#333"/>
                            </marker>
                        </defs>
                        
                        <!-- Labels -->
                        <text x="60" y="35" font-size="18" font-weight="bold" fill="#333">Tower</text>
                        <text x="20" y="330" font-size="16" fill="#333">Ground</text>
                    </svg>
                </div>

                <h4>(a) Velocity and Acceleration Vectors at Point P</h4>
                <div class="input-group">
                    <label>Describe the direction of velocity vector v at point P (mid-flight):</label>
                    <textarea id="q7a-velocity" rows="2" placeholder="Enter your answer..."></textarea>
                </div>
                <div class="input-group">
                    <label>Describe the direction of acceleration vector a:</label>
                    <textarea id="q7a-accel" rows="2" placeholder="Enter your answer..."></textarea>
                </div>
                <button class="btn btn-secondary" onclick="toggleHint('q7a')">üí° Show Hint</button>
                <button class="btn btn-primary" onclick="checkAnswer('q7a')">Check Answer</button>
                
                <div id="q7a-hint" class="hint">
                    <strong>Hint:</strong> The velocity vector is tangent to the trajectory (combining horizontal and vertical components). What's the only force acting on the ball?
                </div>
                <div id="q7a-feedback" class="feedback"></div>
                <div id="q7a-solution" class="solution">
                    <strong>Solution:</strong>
                    <ul>
                        <li><strong>Velocity v:</strong> Tangent to the curve, pointing downward and to the right (combining constant horizontal velocity with increasing downward vertical velocity)</li>
                        <li><strong>Acceleration a:</strong> Vertically downward (gravity, g = 9.81 m/s¬≤)</li>
                    </ul>
                </div>

                <h4>(b)(i) Time to Hit Ground</h4>
                <div class="input-group">
                    <label>Calculate the time from throw to ground impact:</label>
                    <input type="number" id="q7bi-time" step="0.01" placeholder="seconds">
                    <span> s</span>
                </div>
                <button class="btn btn-secondary" onclick="toggleHint('q7bi')">üí° Show Hint</button>
                <button class="btn btn-primary" onclick="checkAnswer('q7bi')">Check Answer</button>
                
                <div id="q7bi-hint" class="hint">
                    <strong>Hint:</strong> Vertical motion: u<sub>v</sub> = 0, s = 24 m, a = 9.81 m/s¬≤. Use s = ut + ¬Ωat¬≤
                </div>
                <div id="q7bi-feedback" class="feedback"></div>
                <div id="q7bi-solution" class="solution">
                    <strong>Solution:</strong>
                    <p>s = ut + ¬Ωat¬≤</p>
                    <p>24 = 0 + ¬Ω(9.81)t¬≤</p>
                    <p>t = ‚àö(48/9.81) = <strong>2.21 s</strong></p>
                </div>

                <h4>(b)(ii) Horizontal Launch Speed</h4>
                <div class="input-group">
                    <label>The ball lands 27 m from the tower base. Calculate launch speed:</label>
                    <input type="number" id="q7bii-speed" step="0.01" placeholder="m/s">
                    <span> m/s</span>
                </div>
                <button class="btn btn-secondary" onclick="toggleHint('q7bii')">üí° Show Hint</button>
                <button class="btn btn-primary" onclick="checkAnswer('q7bii')">Check Answer</button>
                
                <div id="q7bii-hint" class="hint">
                    <strong>Hint:</strong> Horizontal: s = ut, where s = 27 m and t from part (i)
                </div>
                <div id="q7bii-feedback" class="feedback"></div>
                <div id="q7bii-solution" class="solution">
                    <strong>Solution:</strong>
                    <p>s = ut</p>
                    <p>27 = u √ó 2.21</p>
                    <p>u = <strong>12.2 m/s</strong></p>
                </div>
            </div>

            <!-- QUESTION 8 -->
            <div class="question-card">
                <h3>Question 8: Aeroplane Dropping Crate</h3>
                <p>An aeroplane is travelling horizontally at 95 m/s. It has to drop a crate of emergency supplies. Air resistance acting on the crate may be neglected.</p>

                <div style="margin: 20px 0;">
                    <svg width="100%" height="300" viewBox="0 0 700 300">
                        <!-- Sky background -->
                        <rect x="0" y="0" width="700" height="250" fill="#e3f2fd"/>
                        
                        <!-- Aeroplane -->
                        <g transform="translate(100, 80)">
                            <!-- Body -->
                            <ellipse cx="40" cy="0" rx="60" ry="15" fill="#999"/>
                            <!-- Wings -->
                            <rect x="-10" y="-5" width="100" height="10" fill="#666"/>
                            <!-- Tail -->
                            <polygon points="90,-5 120,0 90,5" fill="#666"/>
                            <!-- Windows -->
                            <circle cx="10" cy="0" r="4" fill="#4fc3f7"/>
                            <circle cx="25" cy="0" r="4" fill="#4fc3f7"/>
                            <circle cx="40" cy="0" r="4" fill="#4fc3f7"/>
                        </g>
                        
                        <!-- Velocity arrow -->
                        <defs>
                              <marker id="velocity-arrow-q8" markerWidth="50" markerHeight="10" refX="0" refY="5" orient="auto">
                              <!-- Long tail line -->
                                <line x1="50" y1="5" x2="8" y2="5" stroke="#e74c3c" stroke-width="2"/>
                              <!-- Small arrowhead -->
                                <polygon points="8 2, 0 5, 8 8" fill="#e74c3c"/>
                              </marker>
                        </defs>
                        <line x1="40" y1="60" x2="10" y2="60" stroke="#e74c3c" stroke-width="3" marker-start="url(#velocity-arrow-q8)"/>
                        <text x="15" y="40" font-size="16" fill="#e74c3c" font-weight="bold">95 m/s</text>
                        
                        <!-- Point P (release) -->
                        <circle cx="140" cy="80" r="6" fill="#ff5722"/>
                        <text x="150" y="60" font-size="18" font-weight="bold" fill="#ff5722">P</text>
                        
                        <!-- Parabolic path -->
                        <path d="M 140 80 Q 350 120, 550 240" fill="none" stroke="#667eea" stroke-width="2" stroke-dasharray="5,5"/>
                        
                        <!-- Ground -->
                        <line x1="0" y1="250" x2="700" y2="250" stroke="#654321" stroke-width="4"/>
                        <rect x="0" y="250" width="700" height="10" fill="#8d6e63"/>
                        
                        <!-- Point Q (landing) -->
                        <circle cx="550" cy="245" r="6" fill="#4caf50"/>
                        <text x="530" y="235" font-size="18" font-weight="bold" fill="#4caf50">Q</text>
                        
                        <!-- Point R (ground below P) -->
                        <circle cx="140" cy="250" r="4" fill="#333"/>
                        <text x="150" y="285" font-size="16" font-weight="bold" fill="#333">R</text>
                        
                        <!-- Distance QR -->
                        <line x1="140" y1="265" x2="550" y2="265" stroke="#333" stroke-width="2" marker-end="url(#arrow-qr-q8)"/>
                        <line x1="550" y1="265" x2="140" y2="265" stroke="#333" stroke-width="2" marker-end="url(#arrow-qr-q8)"/>
                        <text x="320" y="285" font-size="16" fill="#333" text-anchor="middle">Horizontal distance QR</text>
                        
                        <defs>
                            <marker id="arrow-qr-q8" markerWidth="8" markerHeight="8" refX="4" refY="4" orient="auto">
                                <polygon points="0 0, 8 4, 0 8" fill="#333"/>
                            </marker>
                        </defs>
                    </svg>
                </div>

                <h4>(a)(i) Path Shape</h4>
                <div class="input-group">
                    <label>Describe the path from release (P) to landing (Q):</label>
                    <textarea id="q8ai-path" rows="2" placeholder="Shape?"></textarea>
                </div>
                <button class="btn btn-secondary" onclick="toggleHint('q8ai')">üí° Show Hint</button>
                <button class="btn btn-primary" onclick="checkAnswer('q8ai')">Check Answer</button>
                
                <div id="q8ai-hint" class="hint">
                    <strong>Hint:</strong> What shape does projectile motion always create?
                </div>
                <div id="q8ai-feedback" class="feedback"></div>
                <div id="q8ai-solution" class="solution">
                    <strong>Solution:</strong> <strong>Parabola</strong> (parabolic curve)
                </div>

                <h4>(a)(ii) Constant Horizontal Velocity</h4>
                <div class="input-group">
                    <label>Explain why horizontal velocity stays constant:</label>
                    <textarea id="q8aii-explain" rows="3" placeholder="Explanation..."></textarea>
                </div>
                <button class="btn btn-secondary" onclick="toggleHint('q8aii')">üí° Show Hint</button>
                <button class="btn btn-primary" onclick="checkAnswer('q8aii')">Check Answer</button>
                
                <div id="q8aii-hint" class="hint">
                    <strong>Hint:</strong> What horizontal forces act on the crate?
                </div>
                <div id="q8aii-feedback" class="feedback"></div>
                <div id="q8aii-solution" class="solution">
                    <strong>Solution:</strong> No horizontal force (air resistance neglected). By Newton's First Law, velocity remains constant at 95 m/s.
                </div>

                <h4>(b)(i) Maximum Drop Height</h4>
                <div class="input-group">
                    <label>Verify max height ‚âà 52 m (given max vertical velocity = 32 m/s):</label>
                    <textarea id="q8bi-working" rows="3" placeholder="Show working..."></textarea>
                </div>
                <button class="btn btn-secondary" onclick="toggleHint('q8bi')">üí° Show Hint</button>
                <button class="btn btn-primary" onclick="checkAnswer('q8bi')">Check Answer</button>
                
                <div id="q8bi-hint" class="hint">
                    <strong>Hint:</strong> v¬≤ = u¬≤ + 2as, where u = 0, v = 32 m/s
                </div>
                <div id="q8bi-feedback" class="feedback"></div>
                <div id="q8bi-solution" class="solution">
                    <strong>Solution:</strong>
                    <p>v¬≤ = u¬≤ + 2as</p>
                    <p>32¬≤ = 0 + 2(9.81)s</p>
                    <p>s = 1024/19.62 = <strong>52.2 m ‚âà 52 m</strong> ‚úì</p>
                </div>

                <h4>(b)(ii) Time to Ground</h4>
                <div class="input-group">
                    <label>Time from 52 m height:</label>
                    <input type="number" id="q8bii-time" step="0.01" placeholder="seconds">
                    <span> s</span>
                </div>
                <button class="btn btn-secondary" onclick="toggleHint('q8bii')">üí° Show Hint</button>
                <button class="btn btn-primary" onclick="checkAnswer('q8bii')">Check Answer</button>
                
                <div id="q8bii-hint" class="hint">
                    <strong>Hint:</strong> v = u + at or s = ut + ¬Ωat¬≤
                </div>
                <div id="q8bii-feedback" class="feedback"></div>
                <div id="q8bii-solution" class="solution">
                    <strong>Solution:</strong>
                    <p>v = u + at ‚Üí 32 = 0 + 9.81t</p>
                    <p>t = <strong>3.26 s</strong></p>
                </div>

                <h4>(b)(iii) Horizontal Distance</h4>
                <div class="input-group">
                    <label>Horizontal distance travelled:</label>
                    <input type="number" id="q8biii-distance" step="0.1" placeholder="meters">
                    <span> m</span>
                </div>
                <button class="btn btn-secondary" onclick="toggleHint('q8biii')">üí° Show Hint</button>
                <button class="btn btn-primary" onclick="checkAnswer('q8biii')">Check Answer</button>
                
                <div id="q8biii-hint" class="hint">
                    <strong>Hint:</strong> s = vt, where v = 95 m/s, t from (ii)
                </div>
                <div id="q8biii-feedback" class="feedback"></div>
                <div id="q8biii-solution" class="solution">
                    <strong>Solution:</strong>
                    <p>s = vt = 95 √ó 3.26 = <strong>310 m</strong></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const g = 9.81; // gravity

        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
        }

        function showViz(vizId) {
            document.querySelectorAll('.viz-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.viz-content').forEach(c => c.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('viz-' + vizId).classList.add('active');
        }

        // ========== ANGLE LAUNCH ==========
        function updateAngleViz() {
            const v0 = parseFloat(document.getElementById('angle-velocity').value);
            const angle = parseFloat(document.getElementById('angle-angle').value);
            document.getElementById('angle-velocity-val').textContent = v0;
            document.getElementById('angle-angle-val').textContent = angle;
            drawAngleTrajectory(v0, angle);
        }

        function drawAngleTrajectory(v0, angleDeg) {
            const svg = document.getElementById('angle-svg');
            const angle = angleDeg * Math.PI / 180;
            const vx = v0 * Math.cos(angle);
            const vy = v0 * Math.sin(angle);
            
            const tTotal = 2 * vy / g;
            const range = vx * tTotal;
            const maxHeight = (vy * vy) / (2 * g);
            
            const scale = 6;
            const offsetY = 350;
            
            let path = '';
            for (let t = 0; t <= tTotal; t += 0.05) {
                const x = vx * t;
                const y = vy * t - 0.5 * g * t * t;
                const sx = 50 + x * scale;
                const sy = offsetY - y * scale;
                path += (t === 0 ? 'M' : 'L') + sx + ',' + sy + ' ';
            }
            
            svg.innerHTML = `
                <defs>
                    <marker id="arrowhead-angle" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
                        <polygon points="0 0, 10 5, 0 10" fill="#e74c3c"/>
                    </marker>
                </defs>
                <line x1="30" y1="${offsetY}" x2="770" y2="${offsetY}" stroke="#333" stroke-width="2"/>
                <text x="400" y="390" text-anchor="middle" fill="#666">Distance (m)</text>
                <path d="${path}" stroke="#2196F3" stroke-width="3" fill="none"/>
                <circle id="projectile-angle" cx="50" cy="${offsetY}" r="6" fill="#e74c3c"/>
                <line x1="50" y1="${offsetY}" x2="${50 + 60*Math.cos(angle)}" y2="${offsetY - 60*Math.sin(angle)}" 
                      stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead-angle)"/>
            `;
            
            document.getElementById('angle-stats').innerHTML = `
                <div><strong>Range:</strong> ${range.toFixed(1)} m</div>
                <div><strong>Max Height:</strong> ${maxHeight.toFixed(1)} m</div>
                <div><strong>Time of Flight:</strong> ${tTotal.toFixed(2)} s</div>
                <div><strong>Horizontal Velocity:</strong> ${vx.toFixed(1)} m/s (constant)</div>
            `;
        }

        function animateAngle() {
            const v0 = parseFloat(document.getElementById('angle-velocity').value);
            const angleDeg = parseFloat(document.getElementById('angle-angle').value);
            const angle = angleDeg * Math.PI / 180;
            const vx = v0 * Math.cos(angle);
            const vy = v0 * Math.sin(angle);
            const tTotal = 2 * vy / g;
            const scale = 6;
            const offsetY = 350;
            
            let t = 0;
            const interval = setInterval(() => {
                if (t > tTotal) {
                    clearInterval(interval);
                    return;
                }
                const x = vx * t;
                const y = vy * t - 0.5 * g * t * t;
                const sx = 50 + x * scale;
                const sy = offsetY - y * scale;
                
                const proj = document.getElementById('projectile-angle');
                if (proj) {
                    proj.setAttribute('cx', sx);
                    proj.setAttribute('cy', sy);
                }
                t += 0.05;
            }, 50);
        }

        function resetAngle() {
            updateAngleViz();
        }

        // ========== BUILDING LAUNCH ==========
        function updateBuildingViz() {
            const h = parseFloat(document.getElementById('building-height').value);
            const v0 = parseFloat(document.getElementById('building-velocity').value);
            document.getElementById('building-height-val').textContent = h;
            document.getElementById('building-velocity-val').textContent = v0;
            drawBuildingTrajectory(h, v0);
        }

        function drawBuildingTrajectory(h, v0) {
            const svg = document.getElementById('building-svg');
            const tTotal = Math.sqrt(2 * h / g);
            const range = v0 * tTotal;
            
            const scale = 5;
            const offsetY = 350;
            const buildingWidth = 30;
            const buildingHeight = h * scale;
            
            let path = '';
            for (let t = 0; t <= tTotal; t += 0.05) {
                const x = v0 * t;
                const y = h - 0.5 * g * t * t;
                const sx = 50 + buildingWidth + x * scale;
                const sy = offsetY - y * scale;
                path += (t === 0 ? 'M' : 'L') + sx + ',' + sy + ' ';
            }
            
            svg.innerHTML = `
                <defs>
                    <marker id="arrowhead-building" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
                        <polygon points="0 0, 10 5, 0 10" fill="#e74c3c"/>
                    </marker>
                </defs>
                <rect x="50" y="${offsetY - buildingHeight}" width="${buildingWidth}" height="${buildingHeight}" fill="#666"/>
                <line x1="30" y1="${offsetY}" x2="770" y2="${offsetY}" stroke="#333" stroke-width="2"/>
                <path d="${path}" stroke="#2196F3" stroke-width="3" fill="none"/>
                <circle id="projectile-building" cx="${50 + buildingWidth}" cy="${offsetY - buildingHeight}" r="6" fill="#e74c3c"/>
                <line x1="${50 + buildingWidth}" y1="${offsetY - buildingHeight}" x2="${50 + buildingWidth + 50}" y2="${offsetY - buildingHeight}" 
                      stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead-building)"/>
            `;
            
            document.getElementById('building-stats').innerHTML = `
                <div><strong>Time to Ground:</strong> ${tTotal.toFixed(2)} s</div>
                <div><strong>Horizontal Range:</strong> ${range.toFixed(1)} m</div>
                <div><strong>Final Vertical Velocity:</strong> ${(g * tTotal).toFixed(1)} m/s</div>
                <div><strong>Horizontal Velocity:</strong> ${v0.toFixed(1)} m/s (constant)</div>
            `;
        }

        function animateBuilding() {
            const h = parseFloat(document.getElementById('building-height').value);
            const v0 = parseFloat(document.getElementById('building-velocity').value);
            const tTotal = Math.sqrt(2 * h / g);
            const scale = 5;
            const offsetY = 350;
            const buildingWidth = 30;
            
            let t = 0;
            const interval = setInterval(() => {
                if (t > tTotal) {
                    clearInterval(interval);
                    return;
                }
                const x = v0 * t;
                const y = h - 0.5 * g * t * t;
                const sx = 50 + buildingWidth + x * scale;
                const sy = offsetY - y * scale;
                
                const proj = document.getElementById('projectile-building');
                if (proj) {
                    proj.setAttribute('cx', sx);
                    proj.setAttribute('cy', sy);
                }
                t += 0.05;
            }, 50);
        }

        function resetBuilding() {
            updateBuildingViz();
        }

        // ========== WALL SCENARIO ==========
        function updateWallViz() {
            const v0 = parseFloat(document.getElementById('wall-velocity').value);
            const angleDeg = parseFloat(document.getElementById('wall-angle').value);
            const wallDist = parseFloat(document.getElementById('wall-distance').value);
            const wallH = parseFloat(document.getElementById('wall-height').value);
            
            document.getElementById('wall-velocity-val').textContent = v0;
            document.getElementById('wall-angle-val').textContent = angleDeg;
            document.getElementById('wall-distance-val').textContent = wallDist;
            document.getElementById('wall-height-val').textContent = wallH;
            
            drawWallTrajectory(v0, angleDeg, wallDist, wallH);
        }

        function drawWallTrajectory(v0, angleDeg, wallDist, wallH) {
            const svg = document.getElementById('wall-svg');
            const angle = angleDeg * Math.PI / 180;
            const vx = v0 * Math.cos(angle);
            const vy = v0 * Math.sin(angle);
            
            const tTotal = 2 * vy / g;
            const range = vx * tTotal;
            
            const scale = 6;
            const offsetY = 350;
            const wallX = 50 + wallDist * scale;
            
            // Calculate height at wall
            const tWall = wallDist / vx;
            const heightAtWall = vy * tWall - 0.5 * g * tWall * tWall;
            const clears = heightAtWall > wallH;
            
            let path = '';
            for (let t = 0; t <= tTotal; t += 0.05) {
                const x = vx * t;
                const y = vy * t - 0.5 * g * t * t;
                if (y < 0) break;
                const sx = 50 + x * scale;
                const sy = offsetY - y * scale;
                path += (t === 0 ? 'M' : 'L') + sx + ',' + sy + ' ';
            }
            
            svg.innerHTML = `
                <defs>
                    <marker id="arrowhead-wall" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
                        <polygon points="0 0, 10 5, 0 10" fill="#e74c3c"/>
                    </marker>
                </defs>
                <line x1="30" y1="${offsetY}" x2="770" y2="${offsetY}" stroke="#333" stroke-width="2"/>
                <rect x="${wallX}" y="${offsetY - wallH * scale}" width="10" height="${wallH * scale}" fill="${clears ? '#999' : '#c00'}"/>
                <text x="${wallX}" y="${offsetY + 20}" text-anchor="middle" fill="#666" font-size="12">Wall</text>
                <path d="${path}" stroke="#2196F3" stroke-width="3" fill="none"/>
                <circle id="projectile-wall" cx="50" cy="${offsetY}" r="6" fill="#e74c3c"/>
                <line x1="50" y1="${offsetY}" x2="${50 + 60*Math.cos(angle)}" y2="${offsetY - 60*Math.sin(angle)}" 
                      stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead-wall)"/>
            `;
            
            document.getElementById('wall-stats').innerHTML = `
                <div><strong>Height at Wall:</strong> ${heightAtWall.toFixed(1)} m</div>
                <div><strong>Clearance:</strong> ${clears ? '‚úì CLEARS' : '‚úó HITS'} (${(heightAtWall - wallH).toFixed(1)} m)</div>
                <div><strong>Total Range:</strong> ${range.toFixed(1)} m</div>
                <div><strong>Time of Flight:</strong> ${tTotal.toFixed(2)} s</div>
            `;
        }

        function animateWall() {
            const v0 = parseFloat(document.getElementById('wall-velocity').value);
            const angleDeg = parseFloat(document.getElementById('wall-angle').value);
            const angle = angleDeg * Math.PI / 180;
            const vx = v0 * Math.cos(angle);
            const vy = v0 * Math.sin(angle);
            const tTotal = 2 * vy / g;
            const scale = 6;
            const offsetY = 350;
            
            let t = 0;
            const interval = setInterval(() => {
                if (t > tTotal) {
                    clearInterval(interval);
                    return;
                }
                const x = vx * t;
                const y = vy * t - 0.5 * g * t * t;
                if (y < 0) {
                    clearInterval(interval);
                    return;
                }
                const sx = 50 + x * scale;
                const sy = offsetY - y * scale;
                
                const proj = document.getElementById('projectile-wall');
                if (proj) {
                    proj.setAttribute('cx', sx);
                    proj.setAttribute('cy', sy);
                }
                t += 0.05;
            }, 50);
        }

        function resetWall() {
            updateWallViz();
        }

        // Initialize visualizations
        updateAngleViz();
        updateBuildingViz();
        updateWallViz();

        // ========== QUESTION CHECKING ==========
        function toggleHint(questionId) {
            document.getElementById(questionId + '-hint').classList.toggle('show');
        }

        function checkAnswer(questionId) {
            const feedbackDiv = document.getElementById(questionId + '-feedback');
            const solutionDiv = document.getElementById(questionId + '-solution');
            let isCorrect = false;
            let feedbackText = '';

            if (questionId === 'q7a') {
                const velocity = document.getElementById('q7a-velocity').value.toLowerCase();
                const accel = document.getElementById('q7a-accel').value.toLowerCase();
                const velCorrect = velocity.includes('tangent') || velocity.includes('diagonal') || (velocity.includes('down') && velocity.includes('right'));
                const accelCorrect = accel.includes('down') || accel.includes('vertical') || accel.includes('gravity');
                isCorrect = velCorrect && accelCorrect;
                feedbackText = isCorrect ? '‚úÖ Correct!' : '‚ùå Not quite. Think about the path and forces.';
            }

            if (questionId === 'q7bi') {
                const answer = parseFloat(document.getElementById('q7bi-time').value);
                isCorrect = Math.abs(answer - 2.21) < 0.05;
                feedbackText = isCorrect ? '‚úÖ Correct! t = 2.21 s' : '‚ùå Expected ‚âà 2.21 s';
            }

            if (questionId === 'q7bii') {
                const answer = parseFloat(document.getElementById('q7bii-speed').value);
                isCorrect = Math.abs(answer - 12.2) < 0.3;
                feedbackText = isCorrect ? '‚úÖ Correct! u = 12.2 m/s' : '‚ùå Expected ‚âà 12.2 m/s';
            }

            if (questionId === 'q8ai') {
                const answer = document.getElementById('q8ai-path').value.toLowerCase();
                isCorrect = answer.includes('parabola') || answer.includes('parabolic');
                feedbackText = isCorrect ? '‚úÖ Correct!' : '‚ùå Think about the trajectory shape.';
            }

            if (questionId === 'q8aii') {
                const answer = document.getElementById('q8aii-explain').value.toLowerCase();
                isCorrect = (answer.includes('no') && answer.includes('force')) || answer.includes('newton');
                feedbackText = isCorrect ? '‚úÖ Correct!' : '‚ùå Consider horizontal forces.';
            }

            if (questionId === 'q8bi') {
                const answer = document.getElementById('q8bi-working').value.toLowerCase();
                isCorrect = answer.includes('52') && answer.includes('v');
                feedbackText = isCorrect ? '‚úÖ Good!' : '‚ùå Show calculation using v¬≤ = u¬≤ + 2as';
            }

            if (questionId === 'q8bii') {
                const answer = parseFloat(document.getElementById('q8bii-time').value);
                isCorrect = Math.abs(answer - 3.26) < 0.05;
                feedbackText = isCorrect ? '‚úÖ Correct! t = 3.26 s' : '‚ùå Expected ‚âà 3.26 s';
            }

            if (questionId === 'q8biii') {
                const answer = parseFloat(document.getElementById('q8biii-distance').value);
                isCorrect = Math.abs(answer - 310) < 5;
                feedbackText = isCorrect ? '‚úÖ Correct! 310 m' : '‚ùå Expected ‚âà 310 m';
            }

            feedbackDiv.className = 'feedback ' + (isCorrect ? 'correct' : 'incorrect');
            feedbackDiv.textContent = feedbackText;
            
            setTimeout(() => solutionDiv.classList.add('show'), 1000);
        }
    </script>
</body>
</html>




